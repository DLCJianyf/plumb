/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _Plumb = __webpack_require__(/*! ./src/Plumb */ \"./src/Plumb.js\");\n\nvar _Plumb2 = _interopRequireDefault(_Plumb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sources = document.getElementsByClassName(\"window\");\n\nwindow.plumb = new _Plumb2.default(sources, {\n    marker: \"ARROW\",\n    lineDashType: \"SOLID\",\n    lineType: \"BEZIER\",\n    strokeWidth: 2\n});\n\nplumb.getSources().forEach(function (source) {\n    plumb.addEndPoint(source, {\n        uuid: source.getElement().id + \"-left\",\n        anchor: \"left\",\n        size: 18\n    });\n\n    plumb.addEndPoint(source, {\n        uuid: source.getElement().id + \"-right\",\n        anchor: \"right\",\n        size: 18\n    });\n}, undefined);\n\nplumb.on(\"connected\", function (evt) {\n    console.log(evt);\n});\n\n//# sourceURL=webpack:///./index.js?");

/***/ }),

/***/ "./src/Anchor.js":
/*!***********************!*\
  !*** ./src/Anchor.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nvar _Render = __webpack_require__(/*! ./Render */ \"./src/Render.js\");\n\nvar _Render2 = _interopRequireDefault(_Render);\n\nvar _Observable2 = __webpack_require__(/*! ./Observable */ \"./src/Observable.js\");\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nvar _Connector = __webpack_require__(/*! ./Connector */ \"./src/Connector.js\");\n\nvar _Connector2 = _interopRequireDefault(_Connector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Anchor = function (_Observable) {\n    _inherits(Anchor, _Observable);\n\n    function Anchor(rect, uuid, originX, originY, anchorType) {\n        _classCallCheck(this, Anchor);\n\n        var _this = _possibleConstructorReturn(this, (Anchor.__proto__ || Object.getPrototypeOf(Anchor)).call(this));\n\n        _this.type = \"ANCHOR\";\n        _this.rect = rect;\n        _this.uuid = uuid;\n        _this.originX = originX;\n        _this.originY = originY;\n\n        _this.on(\"moved\", _this.moved, _this);\n        _this.on(\"moveend\", _this.moveend, _this);\n        return _this;\n    }\n\n    _createClass(Anchor, [{\n        key: \"getRect\",\n        value: function getRect() {\n            return this.rect;\n        }\n\n        /**\r\n         * 移动\r\n         *\r\n         * @param {Object} args\r\n         */\n\n    }, {\n        key: \"moved\",\n        value: function moved(args) {\n            var connectorUUID = plumb.addConnector(this);\n            if (connectorUUID && plumb.config.marker) {\n                plumb.addMarker(connectorUUID, this.rect.slice(), plumb.config.marker);\n            }\n            plumb.updateConnector(this.uuid);\n        }\n\n        /**\r\n         * 移动结束\r\n         */\n\n    }, {\n        key: \"moveend\",\n        value: function moveend() {\n            if (!plumb.floatingEndPoint) return;\n\n            plumb.unDraggable(plumb.floatingEndPoint);\n            _Render2.default.deleteAnchor(plumb.floatingEndPoint);\n            plumb.deleteConnector(plumb.floatingEndPoint, null);\n            plumb.floatingEndPoint.off(\"moved\");\n            plumb.floatingEndPoint.off(\"moveend\");\n\n            var hasTarget = false;\n            var rect1 = plumb.floatingEndPoint.getRect();\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = plumb.sources[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var source = _step.value;\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = source.endPoints[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var endPoint = _step2.value;\n\n                            var rect = endPoint.getRect();\n                            var isTwoPointIntersect = _Util2.default.isCircleIntersect({\n                                x: rect[0],\n                                y: rect[1],\n                                r: rect[2] / 2.0\n                            }, {\n                                x: rect1[0],\n                                y: rect1[1],\n                                r: rect1[2] / 2.0\n                            });\n                            if (isTwoPointIntersect) {\n                                hasTarget = true;\n                                plumb.deleteConnector(endPoint, plumb.floatingEndPoint);\n                                var connectorUUID = plumb.addConnector(endPoint, plumb.floatingEndPoint.uuid);\n                                if (connectorUUID && plumb.config.marker) {\n                                    plumb.addMarker(connectorUUID, this.rect.slice(), plumb.config.marker);\n                                }\n                                plumb.trigger(\"connected\", {\n                                    sourceID: plumb.floatingEndPoint.uuid,\n                                    targetID: endPoint.uuid\n                                });\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            delete plumb.floatingEndPoint;\n        }\n    }]);\n\n    return Anchor;\n}(_Observable3.default);\n\nexports.default = Anchor;\n\n//# sourceURL=webpack:///./src/Anchor.js?");

/***/ }),

/***/ "./src/Connector.js":
/*!**************************!*\
  !*** ./src/Connector.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 连接线，SVG\r\n */\nvar Connector = function () {\n    function Connector(sourceEndPoint, targetEndPoint) {\n        _classCallCheck(this, Connector);\n\n        this.sourceEndPoint = sourceEndPoint;\n        this.targetEndPoint = targetEndPoint;\n        this.uuid = sourceEndPoint.uuid + \"^-^\" + targetEndPoint.uuid;\n    }\n\n    /**\r\n     * 获取起始点\r\n     */\n\n\n    _createClass(Connector, [{\n        key: \"getSource\",\n        value: function getSource() {\n            return this.sourceEndPoint;\n        }\n\n        /**\r\n         * 获取终止点\r\n         */\n\n    }, {\n        key: \"getTarget\",\n        value: function getTarget() {\n            return this.targetEndPoint;\n        }\n\n        /**\r\n         * 获取外接矩形\r\n         */\n\n    }, {\n        key: \"getBound\",\n        value: function getBound() {\n            var rect1 = this.getSource().getRect();\n            var rect2 = this.getTarget().getRect();\n\n            return _Util2.default.getBoundByRect(rect1, rect2);\n        }\n\n        /**\r\n         * 获取锚点大小\r\n         */\n\n    }, {\n        key: \"getPointSize\",\n        value: function getPointSize() {\n            return this.getSource().getRect()[2] || 0;\n        }\n\n        /**\r\n            * 获取连接线大小及外界矩形\r\n            */\n\n    }, {\n        key: \"getSizeAndBound\",\n        value: function getSizeAndBound() {\n            var bound = this.getBound();\n            var size = this.getPointSize();\n            var width = _Util2.default.distance(bound.minX, bound.maxX);\n            var height = _Util2.default.distance(bound.minY, bound.maxY);\n\n            return {\n                size: size,\n                width: width,\n                height: height,\n                bound: bound\n            };\n        }\n\n        /**\r\n         * 计算SVG Path属性点\r\n         *\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         * @param {Number} bound\r\n         * @param {Number} size\r\n         */\n\n    }, {\n        key: \"calcPathPointArr\",\n        value: function calcPathPointArr(width, height, bound, size) {\n            switch (plumb.config.lineType) {\n                case \"BEZIER\":\n                    return this.calcBezier(width, height, bound, size);\n                case \"STRAIGHT\":\n                    return this.calcStraight(width, height, bound, size);\n                case \"FLOW\":\n                    return this.calcFlow(width, height, bound, size);\n                default:\n                    return this.calcBezier(width, height, bound, size);\n            }\n        }\n\n        /**\r\n         * 计算贝塞尔曲线参数\r\n         *\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         * @param {Number} bound\r\n         * @param {Number} size\r\n         */\n\n    }, {\n        key: \"calcBezier\",\n        value: function calcBezier(width, height, bound, size) {\n            var p1 = [];\n            var p2 = [];\n            var p3 = [];\n            var p4 = [];\n\n            var maxX = bound.maxX - bound.minX;\n            var maxY = bound.maxY - bound.minY;\n            var minX = 0;\n            var minY = 0;\n\n            var thresoldX = 200;\n            var thresoldY = 0;\n            var sourceP = this.getSource();\n            var rect1 = sourceP.getRect();\n            var rect2 = this.getTarget().getRect();\n\n            if (sourceP.anchor === \"right\" || sourceP.anchor === \"bottom\") {\n                if (rect1[0] < rect2[0]) {\n                    p1.push(minX);\n                    p2.push(minX + thresoldX);\n                    p3.push(maxX - thresoldX);\n                    p4.push(maxX);\n                } else {\n                    p1.push(maxX);\n                    p2.push(maxX + thresoldX);\n                    p3.push(minX - thresoldX);\n                    p4.push(minX);\n                }\n            } else {\n                if (rect1[0] > rect2[0]) {\n                    p1.push(maxX);\n                    p2.push(maxX - thresoldX);\n                    p3.push(minX + thresoldX);\n                    p4.push(minX);\n                } else {\n                    p1.push(minX);\n                    p2.push(minX - thresoldX);\n                    p3.push(maxX + thresoldX);\n                    p4.push(maxX);\n                }\n            }\n\n            if (rect1[1] === bound.minY) {\n                p1.push(minY);\n                p2.push(minY + thresoldY);\n                p3.push(maxY - thresoldY);\n                p4.push(maxY);\n            } else {\n                p1.push(maxY);\n                p2.push(maxY - thresoldY);\n                p3.push(minY + thresoldY);\n                p4.push(minY);\n            }\n            //p3.push(maxY / 2);\n\n            return [p1, p2, p3, p4];\n        }\n\n        /**\r\n         * 计算直线参数\r\n         *\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         * @param {Number} bound\r\n         * @param {Number} size\r\n         */\n\n    }, {\n        key: \"calcStraight\",\n        value: function calcStraight(width, height, bound, size) {\n            var p1 = [];\n            var p2 = [];\n\n            var maxX = bound.maxX - bound.minX;\n            var maxY = bound.maxY - bound.minY;\n            var minX = 0;\n            var minY = 0;\n\n            var rect = this.getSource().getRect();\n\n            if (rect[0] === bound.minX) {\n                p1.push(minX);\n                p2.push(maxX);\n            } else {\n                p1.push(maxX);\n                p2.push(minX);\n            }\n\n            if (rect[1] === bound.minY) {\n                p1.push(minY);\n                p2.push(maxY);\n            } else {\n                p1.push(maxY);\n                p2.push(minY);\n            }\n\n            return [p1, p2];\n        }\n\n        /**\r\n         * 计算流程线参数\r\n         *\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         * @param {Number} bound\r\n         * @param {Number} size\r\n         */\n\n    }, {\n        key: \"calcFlow\",\n        value: function calcFlow(width, height, bound, size) {\n            var p1 = [];\n            var p2 = [];\n            var p3 = [];\n\n            var maxX = bound.maxX - bound.minX;\n            var maxY = bound.maxY - bound.minY;\n            var minX = 0;\n            var minY = 0;\n\n            var sourceP = this.getSource();\n            var rect1 = sourceP.getRect();\n            var rect2 = this.getTarget().getRect();\n\n            switch (sourceP.anchor) {\n                case \"left\":\n                    break;\n                case \"right\":\n                    break;\n                case \"top\":\n                    break;\n                case \"bottom\":\n                    break;\n                default:\n                    break;\n            }\n\n            if (rect1[0] === bound.minX) {\n                p1.push(minX);\n                p2.push(minX);\n                p3.push(maxX);\n            } else {\n                p1.push(maxX);\n                p2.push(maxX);\n                p3.push(minX);\n            }\n\n            if (rect1[1] === bound.minY) {\n                p1.push(minY);\n                p2.push(maxY);\n                p3.push(maxY);\n            } else {\n                p1.push(maxY);\n                p2.push(minY);\n                p3.push(minY);\n            }\n\n            return [p1, p2, p3];\n        }\n    }]);\n\n    return Connector;\n}();\n\nexports.default = Connector;\n\n//# sourceURL=webpack:///./src/Connector.js?");

/***/ }),

/***/ "./src/DOMUtil.js":
/*!************************!*\
  !*** ./src/DOMUtil.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * DOM相关操作\r\n */\nvar DOMUtil = {\n    ns: \"http://www.w3.org/2000/svg\",\n\n    version: \"1.1\",\n\n    /**\r\n     * 创建element\r\n     *\r\n     * @param {String} tag\r\n     * @param {Object} style\r\n     * @param {String} clazz\r\n     * @param {Object} atts\r\n     */\n    createElement: function createElement(tag, style, clazz, atts) {\n        return this.createElementNS(null, tag, style, clazz, atts);\n    },\n\n    /**\r\n     * 创建带命名空间的element\r\n     *\r\n     * @param {String} ns\r\n     * @param {String} tag\r\n     * @param {Object} style\r\n     * @param {String} clazz\r\n     * @param {Object} atts\r\n     */\n    createElementNS: function createElementNS(ns, tag, style, clazz, atts) {\n        var e = ns === null ? document.createElement(tag) : document.createElementNS(ns, tag);\n\n        var i = void 0;\n        style = style || {};\n        for (i in style) {\n            e.style[i] = style[i];\n        }\n\n        if (clazz) e.className = clazz;\n\n        atts = atts || {};\n        for (i in atts) {\n            e.setAttribute(i, \"\" + atts[i]);\n        }\n\n        return e;\n    },\n\n    /**\r\n     * 获取属性\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {String}      attName\r\n     */\n    getAttribute: function getAttribute(el, attName) {\n        return el.getAttribute != null ? el.getAttribute(attName) : null;\n    },\n\n    /**\r\n     * 设置属性\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {String}      a\r\n     * @param {String}      v\r\n     */\n    setAttribute: function setAttribute(el, a, v) {\n        if (el.setAttribute != null) {\n            el.setAttribute(a, v);\n        }\n    },\n\n    /**\r\n     * 设置属性\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {Object}      atts\r\n     */\n    setAttributes: function setAttributes(el, atts) {\n        for (var i in atts) {\n            if (atts.hasOwnProperty(i)) {\n                el.setAttribute(i, atts[i]);\n            }\n        }\n    },\n\n    /**\r\n     * 获取样式信息\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {String}      prop\r\n     */\n    getStyle: function getStyle(el, prop) {\n        if (typeof window.getComputedStyle !== \"undefined\") {\n            return getComputedStyle(el, null).getPropertyValue(prop);\n        } else {\n            return el.currentStyle[prop];\n        }\n    },\n\n    /**\r\n     * 设置元素位置信息\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {Object}      p\r\n     */\n    setPosition: function setPosition(el, p) {\n        el.style.left = p.left + \"px\";\n        el.style.top = p.top + \"px\";\n    },\n\n    /**\r\n     * 添加到根节点\r\n     *\r\n     * @param {HTMLElement} node\r\n     */\n    appendToRoot: function appendToRoot(node) {\n        DOMUtil.appendToNode(node, null);\n    },\n\n    /**\r\n     * 添加到指定父节点\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @param {HTMLElement} parentNode\r\n     */\n    appendToNode: function appendToNode(node, parentNode) {\n        !parentNode ? document.body.appendChild(node) : parentNode.appendChild(node);\n    },\n\n    /**\r\n     * 获取element大小\r\n     *\r\n     * @param {HTMLElement} el\r\n     */\n    getSize: function getSize(el) {\n        return [el.offsetWidth, el.offsetHeight];\n    },\n\n    /**\r\n     * 获取element宽度\r\n     *\r\n     * @param {HTMLElement} el\r\n     */\n    getWidth: function getWidth(el) {\n        return el.offsetWidth;\n    },\n\n    /**\r\n     * 获取element高度\r\n     *\r\n     * @param {HTMLElement} el\r\n     */\n    getHeight: function getHeight(el) {\n        return el.offsetHeight;\n    },\n\n    /**\r\n     * 设置元素大小和位置\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @param {Number}      x\r\n     * @param {Number}      y\r\n     * @param {Number}      w\r\n     * @param {Number}      h\r\n     */\n    sizeElement: function sizeElement(el, x, y, w, h) {\n        if (el) {\n            el.style.height = h + \"px\";\n            //el.height = h;\n            el.style.width = w + \"px\";\n            //el.width = w;\n            el.style.left = x + \"px\";\n            el.style.top = y + \"px\";\n        }\n    },\n\n    /**\r\n     * 阻止事件\r\n     *\r\n     * @param {Event}   e\r\n     * @param {Boolean} doNotPreventDefault\r\n     */\n    stopEvent: function stopEvent(e, doNotPreventDefault) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n        } else {\n            e.returnValue = false;\n        }\n\n        if (!doNotPreventDefault && e.preventDefault) {\n            e.preventDefault();\n        }\n    }\n};\n\nexports.default = DOMUtil;\n\n//# sourceURL=webpack:///./src/DOMUtil.js?");

/***/ }),

/***/ "./src/Drag.js":
/*!*********************!*\
  !*** ./src/Drag.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Render = __webpack_require__(/*! ./Render */ \"./src/Render.js\");\n\nvar _Render2 = _interopRequireDefault(_Render);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Drag = {\n    curTargetID: null,\n\n    /**\r\n     * 鼠标按下\r\n     *\r\n     * @param {Event} evt\r\n     */\n    dragStart: function dragStart(evt, target) {\n        var id = target.element.id;\n        var isTarget = evt.target.id === id;\n        if (!isTarget && evt.target.localName === \"circle\") {\n            var parent = evt.target.parentNode.parentNode;\n            isTarget = parent.id === id;\n        }\n\n        if (isTarget) {\n            target.originX = evt.pageX;\n            target.originY = evt.pageY;\n\n            target.isMouseDown = true;\n\n            Drag.curTargetID = id;\n        }\n    },\n\n\n    /**\r\n     * 鼠标移动\r\n     *\r\n     * @param {Event} evt\r\n     */\n    dragging: function dragging(evt, target) {\n        if (!target.isMouseDown || Drag.curTargetID !== target.element.id) return;\n\n        var $X = evt.pageX - target.originX;\n        var $Y = evt.pageY - target.originY;\n\n        if (target.type !== \"END_POINT\") {\n            target.rect[0] += $X;\n            target.rect[1] += $Y;\n\n            target.originX = evt.pageX;\n            target.originY = evt.pageY;\n\n            _Render2.default.updatePosition(target.element, target.rect[0], target.rect[1]);\n        }\n\n        target.trigger(\"moved\", { $X: $X, $Y: $Y });\n    },\n\n\n    /**\r\n     * 鼠标升起\r\n     *\r\n     * @param {Event} evt\r\n     */\n    dragEnd: function dragEnd(evt, target) {\n        target.isMouseDown = false;\n        target.trigger(\"moveend\", target.type);\n\n        Drag.curTarget = null;\n    }\n};\n\nexports.default = Drag;\n\n//# sourceURL=webpack:///./src/Drag.js?");

/***/ }),

/***/ "./src/EndPoint.js":
/*!*************************!*\
  !*** ./src/EndPoint.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nvar _Render = __webpack_require__(/*! ./Render */ \"./src/Render.js\");\n\nvar _Render2 = _interopRequireDefault(_Render);\n\nvar _DOMUtil = __webpack_require__(/*! ./DOMUtil */ \"./src/DOMUtil.js\");\n\nvar _DOMUtil2 = _interopRequireDefault(_DOMUtil);\n\nvar _Observable2 = __webpack_require__(/*! ./Observable */ \"./src/Observable.js\");\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 锚点\r\n */\nvar EndPoint = function (_Observable) {\n    _inherits(EndPoint, _Observable);\n\n    function EndPoint(opt, x, y) {\n        _classCallCheck(this, EndPoint);\n\n        var _this = _possibleConstructorReturn(this, (EndPoint.__proto__ || Object.getPrototypeOf(EndPoint)).call(this));\n\n        _this.type = \"END_POINT\";\n\n        _this.uuid = opt.uuid;\n        _this.anchor = opt.anchor;\n        _this.originX = _this.originY = 0;\n        _this.rect = [x, y, opt.size, opt.size];\n        _this.isMouseDown = false;\n\n        _this.on(\"moved\", _this.moved, _this);\n        return _this;\n    }\n\n    /**\r\n     * 获取位置，大小信息\r\n     */\n\n\n    _createClass(EndPoint, [{\n        key: \"getRect\",\n        value: function getRect() {\n            return this.rect;\n        }\n\n        /**\r\n         * 更新位置信息\r\n         *\r\n         * @param {Number} $X\r\n         * @param {Number} $Y\r\n         */\n\n    }, {\n        key: \"updatePosition\",\n        value: function updatePosition($X, $Y) {\n            this.rect[0] += $X;\n            this.rect[1] += $Y;\n\n            plumb.updateConnector(this.uuid);\n        }\n\n        /**\r\n         * 自身移动\r\n         *\r\n         * @param {Object} args\r\n         */\n\n    }, {\n        key: \"moved\",\n        value: function moved(args) {\n            if (!plumb.floatingEndPoint) {\n                plumb.floatingEndPoint = plumb.createFloatingEndPoint(this.rect.slice(0), this.uuid, this.originX, this.originY);\n                plumb.floatingEndPoint.element = _Render2.default.assembleAnchor(plumb.floatingEndPoint);\n                _DOMUtil2.default.appendToNode(plumb.floatingEndPoint.element, document.querySelector(\".jtk-demo-canvas\"));\n                plumb.draggable(plumb.floatingEndPoint);\n            }\n        }\n    }]);\n\n    return EndPoint;\n}(_Observable3.default);\n\nexports.default = EndPoint;\n\n//# sourceURL=webpack:///./src/EndPoint.js?");

/***/ }),

/***/ "./src/Observable.js":
/*!***************************!*\
  !*** ./src/Observable.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 事件订阅，发布（DOM，对象）\r\n */\nvar Observable = function () {\n    function Observable() {\n        _classCallCheck(this, Observable);\n\n        this.handlers = {};\n    }\n\n    /**\r\n     * DOM事件绑定\r\n     */\n\n\n    _createClass(Observable, [{\n        key: \"bind\",\n        value: function bind(el, type, callback, scope, capture) {\n            var me = this;\n            me.handlers[type] = me.handlers[type] || [];\n\n            if (window.addEventListener) {\n                return function (el, type, callback, scope, capture) {\n                    function f(evt) {\n                        callback(evt, scope);\n                    }\n                    me.handlers[type].push(f);\n                    el.addEventListener(type, f, !!capture);\n                }(el, type, callback, scope, capture);\n            } else if (window.attachEvent) {\n                return function (el, type, callback, scope) {\n                    function f(evt) {\n                        callback(evt, scope);\n                    }\n                    me.handlers[type].push(f);\n                    el.attachEvent(\"on\" + type, f);\n                }(el, type, callback, scope);\n            } else {\n                return function (el, type, callback, scope) {\n                    el[on + \"type\"] = callback;\n                }(el, type, callback, scope);\n            }\n        }\n\n        /**\r\n         * DOM事件移除\r\n         */\n\n    }, {\n        key: \"unbind\",\n        value: function unbind(el, type) {\n            var me = this;\n            if (window.addEventListener) {\n                return function (el, type) {\n                    if (me.handlers[type]) {\n                        var i = 0,\n                            len = me.handlers[type].length;\n                        for (; i < len; i++) {\n                            el.removeEventListener(type, me.handlers[type]);\n                        }\n                        delete me.handlers[type];\n                    }\n                }(el, type);\n            } else if (window.attachEvent) {\n                return function (el, type) {\n                    if (me.handlers[type]) {\n                        var i = 0,\n                            len = me.handlers[type].length;\n                        for (; i < len; i++) {\n                            el.removeEventListener(\"on\" + type, me.handlers[type]);\n                        }\n                        delete me.handlers[type];\n                    }\n                }(el, type);\n            } else {\n                return function (el, type) {\n                    el[on + \"type\"] = null;\n                }(el, type);\n            }\n        }\n\n        /**\r\n         * 对象事件绑定\r\n         */\n\n    }, {\n        key: \"on\",\n        value: function on(type, fn, ctx) {\n            var me = this;\n            if (!(fn instanceof Function)) return;\n\n            if (!me.handlers[type]) me.handlers[type] = [];\n\n            me.handlers[type].push({\n                fn: fn,\n                ctx: ctx || null\n            });\n        }\n\n        /**\r\n         * 对象事件触发\r\n         */\n\n    }, {\n        key: \"trigger\",\n        value: function trigger(type, args) {\n            var me = this;\n            if (!me.handlers[type]) return;\n\n            args = Object.prototype.toString(args) === \"[Object, Array]\" ? args : [args];\n\n            me.handlers[type].forEach(function (item) {\n                item.fn.apply(item.ctx, args);\n            });\n        }\n\n        /**\r\n         * 对象事件移除\r\n         */\n\n    }, {\n        key: \"off\",\n        value: function off(type, fn) {\n            var me = this;\n            if (!me.handlers[type] || !me.handlers[type].length) return;\n\n            if (!fn) {\n                me.handlers[type] = [];\n            } else {\n                var fns = [];\n                for (var i = 0; i < me.handlers[type].length; i++) {\n                    if (me.handlers[type][i].fn !== fn) {\n                        fns.push(me.handlers[type][i]);\n                    }\n                }\n                me.handlers[type] = fns;\n            }\n        }\n    }]);\n\n    return Observable;\n}();\n\nexports.default = Observable;\n\n//# sourceURL=webpack:///./src/Observable.js?");

/***/ }),

/***/ "./src/Plumb.js":
/*!**********************!*\
  !*** ./src/Plumb.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Anchor = __webpack_require__(/*! ./Anchor */ \"./src/Anchor.js\");\n\nvar _Anchor2 = _interopRequireDefault(_Anchor);\n\nvar _Source = __webpack_require__(/*! ./Source */ \"./src/Source.js\");\n\nvar _Source2 = _interopRequireDefault(_Source);\n\nvar _EndPoint = __webpack_require__(/*! ./EndPoint */ \"./src/EndPoint.js\");\n\nvar _EndPoint2 = _interopRequireDefault(_EndPoint);\n\nvar _Connector = __webpack_require__(/*! ./Connector */ \"./src/Connector.js\");\n\nvar _Connector2 = _interopRequireDefault(_Connector);\n\nvar _Drag = __webpack_require__(/*! ./Drag */ \"./src/Drag.js\");\n\nvar _Drag2 = _interopRequireDefault(_Drag);\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nvar _Render = __webpack_require__(/*! ./Render */ \"./src/Render.js\");\n\nvar _Render2 = _interopRequireDefault(_Render);\n\nvar _DOMUtil = __webpack_require__(/*! ./DOMUtil */ \"./src/DOMUtil.js\");\n\nvar _DOMUtil2 = _interopRequireDefault(_DOMUtil);\n\nvar _Observable2 = __webpack_require__(/*! ./Observable */ \"./src/Observable.js\");\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Plumb = function (_Observable) {\n    _inherits(Plumb, _Observable);\n\n    function Plumb(targets, config) {\n        _classCallCheck(this, Plumb);\n\n        var _this = _possibleConstructorReturn(this, (Plumb.__proto__ || Object.getPrototypeOf(Plumb)).call(this));\n\n        _this.config = config;\n\n        _this.sources = [];\n        _this.endPoints = [];\n        _this.connectors = [];\n        _this.init(targets);\n        return _this;\n    }\n\n    _createClass(Plumb, [{\n        key: \"init\",\n        value: function init(targets) {\n            if (!targets) return;\n            if (targets.length === undefined) targets = [targets];\n            Array.prototype.slice.call(targets).forEach(function (target) {\n                var source = new _Source2.default(target);\n\n                this.draggable(source);\n                this.sources.push(source);\n            }, this);\n        }\n\n        /**\r\n         * 为目标元素绑定拖动事件\r\n         *\r\n         * @param {Object} target\r\n         */\n\n    }, {\n        key: \"draggable\",\n        value: function draggable(target) {\n            this.bind(document, \"mousedown\", _Drag2.default.dragStart, target);\n            this.bind(document, \"mousemove\", _Drag2.default.dragging, target);\n            this.bind(document, \"mouseup\", _Drag2.default.dragEnd, target);\n        }\n\n        /**\r\n         * 接触目标元素拖动事件\r\n         *\r\n         * @param {Object} target\r\n         */\n\n    }, {\n        key: \"unDraggable\",\n        value: function unDraggable(target) {\n            this.unbind(document, \"mousedown\");\n            this.unbind(document, \"mousemove\");\n            this.unbind(document, \"mouseup\");\n        }\n\n        /**\r\n         * 添加锚点\r\n         */\n\n    }, {\n        key: \"addEndPoint\",\n        value: function addEndPoint(source, opts) {\n            var pX = 0,\n                pY = 0;\n            var rect = source.getRect();\n            switch (opts.anchor) {\n                case \"top\":\n                    pX = rect[0] + rect[2] / 2.0 - opts.size / 2.0;\n                    pY = rect[1] + -opts.size / 2.0;\n                    break;\n                case \"bottom\":\n                    pX = rect[0] + rect[2] / 2.0 - opts.size / 2.0;\n                    pY = rect[1] + rect[3] - opts.size / 2.0;\n                    break;\n                case \"left\":\n                    pX = rect[0] - opts.size / 2.0;\n                    pY = rect[1] + rect[3] / 2.0 - opts.size / 2.0;\n                    break;\n                case \"right\":\n                    pX = rect[0] + rect[2] - opts.size / 2.0;\n                    pY = rect[1] + rect[3] / 2.0 - opts.size / 2.0;\n                    break;\n                default:\n                    pX = rect[0] + rect[2] / 2.0 - opts.size / 2.0;\n                    pY = rect[1] + rect[3] - opts.size / 2.0;\n            }\n\n            var endPoint = new _EndPoint2.default(opts, pX, pY);\n            endPoint.element = _Render2.default.assembleEndPoint(endPoint);\n            _DOMUtil2.default.appendToNode(endPoint.element, document.querySelector(\".jtk-demo-canvas\"));\n\n            source.addEndPoint(endPoint);\n            this.draggable(endPoint);\n        }\n\n        /**\r\n         * 创建移动的锚点\r\n         *\r\n         * @param {EndPoint} endPoint\r\n         */\n\n    }, {\n        key: \"createFloatingEndPoint\",\n        value: function createFloatingEndPoint(rect, uuid, originX, originY) {\n            var anchor = new _Anchor2.default(rect, uuid, originX, originY);\n            anchor.isMouseDown = true;\n\n            return anchor;\n        }\n\n        /**\r\n         * 添加连接线\r\n         *\r\n         * @param {EndPoint} targetEndPoint\r\n         * @param {String} sourceID\r\n         */\n\n    }, {\n        key: \"addConnector\",\n        value: function addConnector(targetEndPoint, sourceID) {\n            var isBreak = false;\n            sourceID = sourceID || targetEndPoint.uuid;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = plumb.sources[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var source = _step.value;\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = source.endPoints[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var endPoint = _step2.value;\n\n                            if (endPoint.uuid === sourceID) {\n                                var uuid = endPoint.uuid + \"^-^\" + targetEndPoint.uuid;\n                                if (!plumb.connectors[uuid]) {\n                                    var connector = new _Connector2.default(endPoint, targetEndPoint);\n                                    plumb.connectors[uuid] = connector;\n\n                                    var _connector$getSizeAnd = connector.getSizeAndBound(),\n                                        width = _connector$getSizeAnd.width,\n                                        height = _connector$getSizeAnd.height,\n                                        bound = _connector$getSizeAnd.bound,\n                                        size = _connector$getSizeAnd.size;\n\n                                    connector.element = _Render2.default.assembleConnector(width, height, bound, size);\n                                    _DOMUtil2.default.appendToNode(connector.element, document.querySelector(\".jtk-demo-canvas\"));\n\n                                    _Render2.default.updatePath(connector.element.getElementsByTagName(\"path\")[0], connector.calcPathPointArr(width, height, bound, size));\n                                    return uuid;\n                                }\n\n                                isBreak = true;\n                                break;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    if (isBreak) break;\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        /**\r\n         * 删除连接线\r\n         *\r\n         * @param {EndPoint} point\r\n         * @param {EndPoint} point\r\n         */\n\n    }, {\n        key: \"deleteConnector\",\n        value: function deleteConnector(point, target) {\n            var isBreak = false;\n            var sourceID = point.uuid;\n            var targetID = target && target.uuid || sourceID;\n\n            for (var uuid in plumb.connectors) {\n                var connector = plumb.connectors[uuid];\n                var ids = connector.uuid.split(\"^-^\");\n                if (ids[0] === sourceID && ids[1] === targetID) {\n                    _Render2.default.deleteConnector(connector);\n                    delete plumb.connectors[uuid];\n                }\n            }\n        }\n\n        /**\r\n         * 更新连接线\r\n         *\r\n         * @param {String} UUID\r\n         */\n\n    }, {\n        key: \"updateConnector\",\n        value: function updateConnector(UUID) {\n            for (var uuid in plumb.connectors) {\n                var connector = plumb.connectors[uuid];\n                if (UUID === connector.getSource().uuid || UUID === connector.getTarget().uuid) {\n                    var _connector$getSizeAnd2 = connector.getSizeAndBound(),\n                        width = _connector$getSizeAnd2.width,\n                        height = _connector$getSizeAnd2.height,\n                        bound = _connector$getSizeAnd2.bound,\n                        size = _connector$getSizeAnd2.size;\n\n                    _Render2.default.updateConnector(connector, width, height, bound, size);\n                }\n            }\n        }\n    }, {\n        key: \"addMarker\",\n        value: function addMarker(connectorUUID, rect, markerType) {\n            var connector = plumb.connectors[connectorUUID];\n            var parentWrapper = connector.element;\n            var marker = _Render2.default.assembleMarker(rect, markerType);\n            _DOMUtil2.default.appendToNode(marker, parentWrapper);\n\n            var path = parentWrapper.getElementsByTagName(\"path\")[0];\n            _DOMUtil2.default.setAttribute(path, \"marker-end\", \"url(#marker-achor)\");\n        }\n\n        /**\r\n         * 获取可拖动窗体集合\r\n         */\n\n    }, {\n        key: \"getSources\",\n        value: function getSources() {\n            return this.sources;\n        }\n    }]);\n\n    return Plumb;\n}(_Observable3.default);\n\nexports.default = Plumb;\n\n//# sourceURL=webpack:///./src/Plumb.js?");

/***/ }),

/***/ "./src/Render.js":
/*!***********************!*\
  !*** ./src/Render.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nvar _DOMUtil = __webpack_require__(/*! ./DOMUtil */ \"./src/DOMUtil.js\");\n\nvar _DOMUtil2 = _interopRequireDefault(_DOMUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 渲染类，根据构建好的参数进行dom神马的创建，更新\r\n */\nvar Render = function () {\n    function Render() {\n        _classCallCheck(this, Render);\n    }\n\n    _createClass(Render, null, [{\n        key: \"updatePosition\",\n\n        /**\r\n         * 更新dom元素位置\r\n         *\r\n         * @param {HTMLDocument} el\r\n         * @param {Number} x\r\n         * @param {Number} y\r\n         */\n        value: function updatePosition(el, x, y) {\n            _DOMUtil2.default.setPosition(el, { left: x, top: y });\n        }\n\n        /**\r\n         * 创建div\r\n         *\r\n         * @param {String} id\r\n         * @param {String} className\r\n         * @param {Object} style\r\n         */\n\n    }, {\n        key: \"createDiv\",\n        value: function createDiv(id, className, style) {\n            style = Object.assign({}, style, { position: \"absolute\", zIndex: 1 });\n\n            return _DOMUtil2.default.createElement(\"div\", style, className, { id: id });\n        }\n\n        /**\r\n         * 创建SVG\r\n         *\r\n         * @param {Number} width\r\n         * @param {Number} height\r\n         * @param {Object} style\r\n         */\n\n    }, {\n        key: \"createSVG\",\n        value: function createSVG(width, height, style) {\n            style = Object.assign({}, style, { position: \"absolute\" });\n\n            return _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"svg\", style, null, {\n                version: \"1.1\",\n                position: \"absolute\",\n                width: width,\n                height: height\n            });\n        }\n\n        /**\r\n         * 创建SVG圆\r\n         *\r\n         * @param {Number} x\r\n         * @param {Number} y\r\n         * @param {Number} r\r\n         */\n\n    }, {\n        key: \"createCircle\",\n        value: function createCircle(x, y, r) {\n            return _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"circle\", {}, null, {\n                id: _Util2.default.guid(),\n                cx: x,\n                cy: y,\n                r: r,\n                version: \"1.1\",\n                fill: \"gray\",\n                stroke: \"none\"\n            });\n        }\n\n        /**\r\n         * 创建箭头\r\n         *\r\n         * @param {Number} x\r\n         * @param {Number} y\r\n         * @param {Number} r\r\n         */\n\n    }, {\n        key: \"createArrow\",\n        value: function createArrow(x, y, r) {\n            var w = 2 * r;\n            var h = 2 * r;\n            var defs = _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"defs\");\n            var marker = _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"marker\", {}, null, {\n                id: \"marker-achor\",\n                markerUnits: \"userSpaceOnUse\",\n                markerWidth: w,\n                markerHeight: h,\n                viewBox: \"0 0 \" + w + \" \" + h,\n                refX: w,\n                refY: r,\n                orient: \"auto\"\n            });\n            var path = _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"path\", {}, null, {\n                d: \"M0,0 L\" + w + \",\" + r + \" L0,\" + h + \" L\" + r + \",\" + r + \" L0,0\",\n                fill: \"gray\",\n                stroke: \"white\"\n            });\n\n            _DOMUtil2.default.appendToNode(path, marker);\n            _DOMUtil2.default.appendToNode(marker, defs);\n\n            return defs;\n        }\n\n        /**\r\n         * 创建SVG路径\r\n         */\n\n    }, {\n        key: \"createPath\",\n        value: function createPath() {\n            return _DOMUtil2.default.createElementNS(_DOMUtil2.default.ns, \"path\", {}, null, {\n                fill: \"none\",\n                stroke: \"gray\",\n                \"stroke-width\": 2\n            });\n        }\n\n        /**\r\n         *\r\n         * @param {HTMLSVGElement} path\r\n         * @param {Array}          pointArr\r\n         */\n\n    }, {\n        key: \"updatePath\",\n        value: function updatePath(path, pointArr) {\n            if (!pointArr.length) return;\n\n            var p1 = pointArr[0];\n            var d = \"M\" + p1[0] + \",\" + p1[1];\n\n            for (var i = 1; i < pointArr.length; i++) {\n                var p = pointArr[i];\n\n                d += \" \";\n                if (i === 1) d += _Util2.default.getPathCMD(plumb.config.lineType);\n                d += p[0] + \",\" + p[1];\n            }\n\n            var strokeDasharray = _Util2.default.getDashStyle(plumb.config.lineDashType, plumb.config.strokeWidth).toString();\n\n            _DOMUtil2.default.setAttributes(path, {\n                d: d,\n                \"stroke-dasharray\": strokeDasharray\n            });\n        }\n\n        /**\r\n         * 添加endPoint\r\n         *\r\n         * @param {EndPoint} endPoint\r\n         */\n\n    }, {\n        key: \"assembleEndPoint\",\n        value: function assembleEndPoint(endPoint) {\n            //if (!endPoint.element) {\n            var rect = endPoint.getRect();\n            var div = Render.createDiv(endPoint.uuid, \"endpoint\", {\n                left: rect[0] + \"px\",\n                top: rect[1] + \"px\",\n                width: rect[2] + \"px\",\n                height: rect[3] + \"px\"\n            });\n            var svg = Render.createSVG(rect[2], rect[3], {\n                left: \"0px\",\n                top: \"0px\",\n                opacity: 0.8\n            });\n            var circle = Render.createCircle(rect[2] / 2.0, rect[2] / 2.0, rect[2] / 2.0);\n\n            _DOMUtil2.default.appendToNode(circle, svg);\n            _DOMUtil2.default.appendToNode(svg, div);\n            return div;\n            //}\n        }\n\n        /**\r\n         *  添加移动锚点\r\n         *\r\n         * @param {Anchor} anchor\r\n         */\n\n    }, {\n        key: \"assembleAnchor\",\n        value: function assembleAnchor(anchor) {\n            //if (!anchor.element) {\n            var rect = anchor.getRect();\n            var div = Render.createDiv(anchor.uuid, \"anchor\", {\n                left: rect[0] + \"px\",\n                top: rect[1] + \"px\",\n                width: rect[2] + \"px\",\n                height: rect[3] + \"px\"\n            });\n            var svg = Render.createSVG(rect[2], rect[3], {\n                left: \"0px\",\n                top: \"0px\",\n                opacity: 0.8\n            });\n            var shape = Render.createCircle(rect[2] / 2.0, rect[2] / 2.0, rect[2] / 2.0);\n            // switch (anchor.shape) {\n            //     case \"ARROW\":\n            //         shape = Render.createArrow(\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0\n            //         );\n            //         break;\n            //     case \"CIRCLE\":\n            //         shape = Render.createCircle(\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0\n            //         );\n            //         break;\n\n            //     default:\n            //         shape = Render.createCircle(\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0,\n            //             rect[2] / 2.0\n            //         );\n            //         break;\n            // }\n\n            _DOMUtil2.default.appendToNode(shape, svg);\n            _DOMUtil2.default.appendToNode(svg, div);\n            return div;\n            //}\n        }\n\n        /**\r\n         *  删除移动锚点\r\n         *\r\n         * @param {Anchor} anchor\r\n         */\n\n    }, {\n        key: \"deleteAnchor\",\n        value: function deleteAnchor(anchor) {\n            var parentWrapper = document.querySelector(\".jtk-demo-canvas\");\n            parentWrapper.removeChild(anchor.element);\n        }\n    }, {\n        key: \"assembleConnector\",\n        value: function assembleConnector(width, height, bound, size) {\n            //if (!connector.element) {\n\n            var svg = Render.createSVG(width, height, {\n                left: bound.minX + size / 2.0 + \"px\",\n                top: bound.minY + size / 2.0 + \"px\",\n                overflow: \"visible\",\n                \"z-index\": 10\n            });\n            var path = Render.createPath();\n            svg.appendChild(path);\n            return svg;\n            //}\n        }\n    }, {\n        key: \"updateConnector\",\n        value: function updateConnector(connector, width, height, bound, size) {\n            var x = bound.minX + size / 2.0;\n            var y = bound.minY + size / 2.0;\n\n            //Render.updateSVG(connector.element, width, height, x, y);\n            _DOMUtil2.default.sizeElement(connector.element, x, y, width, height);\n\n            var pointArr = connector.calcPathPointArr(width, height, bound, size);\n            var path = connector.element.getElementsByTagName(\"path\")[0];\n            Render.updatePath(path, pointArr);\n        }\n    }, {\n        key: \"deleteConnector\",\n        value: function deleteConnector(connector) {\n            if (connector.element) {\n                var parentWrapper = document.querySelector(\".jtk-demo-canvas\");\n                parentWrapper.removeChild(connector.element);\n            }\n        }\n    }, {\n        key: \"assembleMarker\",\n        value: function assembleMarker(rect, markerType) {\n            var shape = void 0;\n            switch (markerType) {\n                case \"ARROW\":\n                    shape = Render.createArrow(rect[2] / 2.0, rect[2] / 2.0, rect[2] / 2.0);\n                    break;\n                case \"star\":\n                    break;\n\n                default:\n                    shape = Render.createArrow(rect[2] / 2.0, rect[2] / 2.0, rect[2] / 2.0);\n                    break;\n            }\n            return shape;\n        }\n    }]);\n\n    return Render;\n}();\n\nexports.default = Render;\n\n//# sourceURL=webpack:///./src/Render.js?");

/***/ }),

/***/ "./src/Source.js":
/*!***********************!*\
  !*** ./src/Source.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\nvar _Util2 = _interopRequireDefault(_Util);\n\nvar _Render = __webpack_require__(/*! ./Render */ \"./src/Render.js\");\n\nvar _Render2 = _interopRequireDefault(_Render);\n\nvar _Observable2 = __webpack_require__(/*! ./Observable */ \"./src/Observable.js\");\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 可拖动窗体\r\n */\nvar Source = function (_Observable) {\n    _inherits(Source, _Observable);\n\n    function Source(element) {\n        _classCallCheck(this, Source);\n\n        var _this = _possibleConstructorReturn(this, (Source.__proto__ || Object.getPrototypeOf(Source)).call(this));\n\n        _this.type === \"SOURCE\";\n\n        _this.endPoints = [];\n        _this.element = element;\n\n        _this.prev = null;\n        _this.next = null;\n\n        _this.originX = _this.originY = 0;\n        _this.isMouseDown = false;\n        _this.rect = _Util2.default.getElementRectInfo(element);\n\n        _this.on(\"moved\", _this.moved, _this);\n        return _this;\n    }\n\n    /**\r\n     * 获取位置，大小信息\r\n     */\n\n\n    _createClass(Source, [{\n        key: \"getRect\",\n        value: function getRect() {\n            return this.rect;\n        }\n\n        /**\r\n         * 获取窗体dom元素\r\n         */\n\n    }, {\n        key: \"getElement\",\n        value: function getElement() {\n            return this.element;\n        }\n\n        /**\r\n         * 添加锚点\r\n         *\r\n         * @param {EndPoint} endPoint\r\n         */\n\n    }, {\n        key: \"addEndPoint\",\n        value: function addEndPoint(endPoint) {\n            this.endPoints.push(endPoint);\n        }\n\n        /**\r\n         * 自身移动\r\n         *\r\n         * @param {Object} args\r\n         */\n\n    }, {\n        key: \"moved\",\n        value: function moved(args) {\n            this.endPoints.forEach(function (item) {\n                item.updatePosition(args.$X, args.$Y);\n                _Render2.default.updatePosition(item.element, item.rect[0], item.rect[1]);\n            });\n        }\n    }]);\n\n    return Source;\n}(_Observable3.default);\n\nexports.default = Source;\n\n//# sourceURL=webpack:///./src/Source.js?");

/***/ }),

/***/ "./src/Util.js":
/*!*********************!*\
  !*** ./src/Util.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 工具类，静态方法\r\n */\nvar Util = function () {\n    function Util() {\n        _classCallCheck(this, Util);\n    }\n\n    _createClass(Util, null, [{\n        key: \"min\",\n        value: function min(a, b) {\n            return a < b ? a : b;\n        }\n    }, {\n        key: \"max\",\n        value: function max(a, b) {\n            return a > b ? a : b;\n        }\n    }, {\n        key: \"distance\",\n        value: function distance(a, b) {\n            return Math.abs(a - b);\n        }\n    }, {\n        key: \"getBoundByCircle\",\n        value: function getBoundByCircle(center, r) {\n            return {\n                minX: center.left - r,\n                minY: center.top - r,\n                maxX: center.left + r,\n                maxY: center.top + r\n            };\n        }\n    }, {\n        key: \"getBoundByRect\",\n        value: function getBoundByRect(rect1, rect2) {\n            return {\n                minX: Util.min(rect1[0], rect2[0]),\n                minY: Util.min(rect1[1], rect2[1]),\n                maxX: Util.max(rect1[0], rect2[0]),\n                maxY: Util.max(rect1[1], rect2[1])\n            };\n        }\n    }, {\n        key: \"isBoundIntersect\",\n        value: function isBoundIntersect(rec1, rec2) {\n            var minx = Util.min(rec1.minX, rec2.minX);\n            var miny = Util.min(rec1.minY, rec2.minY);\n            var maxx = Util.max(rec1.maxX, rec2.maxY);\n            var maxy = Util.max(rec1.maxY, rec2.maxY);\n            //如果兩個矩形相交，那麼計算得到的點對坐標必然滿足\n            return !(minx > maxx || miny > maxy);\n        }\n    }, {\n        key: \"isCircleIntersect\",\n        value: function isCircleIntersect(c1, c2) {\n            var centerDistance = Math.sqrt(Math.pow(c1.x - c2.x, 2) + Math.pow(c1.y - c2.y, 2));\n\n            return centerDistance <= c1.r * 2;\n        }\n\n        // /**\n        //  * 创建带有指定命名空间的元素节点\n        //  *\n        //  * @param {String} ns\n        //  * @param {String} name\n        //  */\n        // static createElementNS(ns, name) {\n        //     return document.createElementNS(ns, name);\n        // }\n\n        /**\r\n         * 设置dom元素属性\r\n         *\r\n         * @param {HTMLElement} target\r\n         * @param {Object} attributes\r\n         */\n\n    }, {\n        key: \"setAttribute\",\n        value: function setAttribute(target, attributes) {\n            try {\n                for (var key in attributes) {\n                    target.setAttribute(key, attributes[key]);\n                }\n            } catch (evt) {\n                debugger;\n            }\n        }\n\n        /**\r\n         * 设置dom元素样式\r\n         *\r\n         * @param {HTMLElement} target\r\n         * @param {Object} styles\r\n         */\n\n    }, {\n        key: \"setStyle\",\n        value: function setStyle(target, styles) {\n            for (var key in styles) {\n                target.style[key] = styles[key];\n            }\n        }\n    }, {\n        key: \"getElementRectInfo\",\n        value: function getElementRectInfo(element) {\n            return [\"offsetLeft\", \"offsetTop\", \"offsetWidth\", \"offsetHeight\"].map(function (attrName) {\n                return element[attrName] || 0;\n            });\n        }\n\n        /**\r\n         * 获取线样式\r\n         *\r\n         * @param {String} type\r\n         * @param {Number} w\r\n         */\n\n    }, {\n        key: \"getDashStyle\",\n        value: function getDashStyle(type, w) {\n            switch (type) {\n                case \"SOLID\":\n                    return [];\n                case \"DOT\":\n                    return [1, 4 * w];\n                case \"DASH\":\n                    return [4 * w, 4 * w];\n                case \"DASHDOT\":\n                    return [4 * w, 4 * w, 1, 4 * w];\n                case \"LONGDASH\":\n                    return [8 * w, 4 * w];\n                case \"LONGDASHDOT\":\n                    return [8 * w, 4 * w, 1, 4 * w];\n                default:\n                    return [];\n            }\n        }\n    }, {\n        key: \"getPathCMD\",\n        value: function getPathCMD(type) {\n            if (type === \"BEZIER\") {\n                return \"C\";\n            }\n\n            return \"L\";\n        }\n    }, {\n        key: \"guid\",\n        value: function guid() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n                var r = Math.random() * 16 | 0,\n                    v = c == \"x\" ? r : r & 0x3 | 0x8;\n                return v.toString(16);\n            });\n        }\n    }]);\n\n    return Util;\n}();\n\nexports.default = Util;\n\n//# sourceURL=webpack:///./src/Util.js?");

/***/ })

/******/ });